<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

    //     解决这类问题的核心思想就是两个字“延伸”，具体来说
    //
    //     如果一个字符串是回文串，那么在它左右分别加上一个相同的字符，那么它一定还是一个回文串
    //     如果在一个不是回文字符串的字符串两端添加任何字符，或者在回文串左右分别加不同的字符，得到的一定不是回文串
    //     事实上，上面的分析已经建立了大问题和小问题之间的关联，基于此，我们可以建立动态规划模型。
    //
    // 我们可以用 dp[i][j] 表示 s 中从 i 到 j（包括 i 和 j）是否可以形成回文，状态转移方程只是将上面的描述转化为代码即可：
    //
    //
    // if (s[i] === s[j] && dp[i + 1][j - 1]) {
    //     dp[i][j] = true;
    // }
i

        // 状态定义
        // dp[i,j]：字符串s从索引i到j的子串是否是回文串
        // true： s[i,j] 是回文串
        // false：s[i,j] 不是回文串
        // 转移方程
        // dp[i][j] = dp[i+1][j-1] && s[i] == s[j]
        // s[i] == s[j]：说明当前中心可以继续扩张，进而有可能扩大回文串的长度
        // dp[i+1][j-1]：true
        // 说明s[i,j]的**子串s[i+1][j-1]**也是回文串
        // 说明，i是从最大值开始遍历的，j是从最小值开始遍历的
        // 特殊情况
        // j - i < 2：意即子串是一个长度为0或1的回文串
        // 总结
        // dp[i][j] = s[i] == s[j] && ( dp[i+1][j-1] || j - i < 2)






    var longestPalindrome = function(s) {

            // babad
            // tag : dp
            if (!s || s.length === 0) return "";
            let res = s[0];

            const dp = [];

            // 倒着遍历简化操作， 这么做的原因是dp[i][..]依赖于dp[i + 1][..]
            for (let i = s.length - 1; i >= 0; i--) {
                dp[i] = [];
                for (let j = i; j < s.length; j++) {
                    if (j - i === 0) dp[i][j] = true;
                    // specail case 1
                    else if (j - i === 1 && s[i] === s[j]) dp[i][j] = true;
                    // specail case 2
                    else if (s[i] === s[j] && dp[i + 1][j - 1]) {
                        // state transition
                        dp[i][j] = true;

                    }

                    if (dp[i][j] && j - i + 1 > res.length) {
                        // update res
                        res = s.slice(i, j + 1);
                    }
                }
            }

            return res;

    };
    console.log(longestPalindrome('asdfdh'))


</script>

</body>
</html>